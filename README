TODO: Document everything. Until then, read the source, it's all very simple really.